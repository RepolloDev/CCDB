{% extends "layouts/crudLayout.html" %} {% block title %}
<span>Participantes</span>
{% endblock %}
<!-- Contenido -->
{% block content %}

<!-- ======= ESTADÍSTICAS ======= -->
<div>
  <div class="stats border border-base-300 w-full">
    <div class="stat">
      <div class="stat-figure text-primary">
        <box-icon name="user-plus" size="lg"></box-icon>
      </div>
      <div class="stat-title">Total de participantes</div>
      <div class="stat-value text-primary">{{ total_participantes }}</div>
      <div class="stat-desc">Registrados en todo el tiempo</div>
    </div>

    <div class="stat">
      <div class="stat-figure text-secondary">
        <box-icon name="show" size="lg"></box-icon>
      </div>
      <div class="stat-title">Participantes activos</div>
      <div class="stat-value text-secondary">{{ total_activos }}</div>
      <div class="stat-desc">50% del total</div>
    </div>

    <div class="stat">
      <div class="stat-figure text-secondary">
        <box-icon type="solid" name="baby-carriage" size="lg"></box-icon>
      </div>
      <div class="stat-value">{{ total_menores }}</div>
      <div class="stat-title">Menores de edad</div>
      <div class="stat-desc text-secondary">31% del total</div>
    </div>
  </div>
</div>

<!-- ===== TABLA ===== -->
<div>
  <h2 class="my-8 text-2xl font-semibold">Vista general</h2>
  <div>
    <button
      class="btn btn-primary btn-lg"
      data-ref="{{ url_for('participantes.crear') }}"
    >
      Agregar
    </button>
  </div>
  <div class="overflow-x-auto">
    <div id="table-data"></div>
  </div>
</div>

{% endblock %}
<!-- Scripts -->
{% block scripts %}
<script id="data" type="application/json">
  {{ data | tojson }}
</script>
<script src="{{ url_for('static', filename='js/generate.js') }}"></script>
<script src="{{ url_for('static', filename='js/table.js') }}"></script>
<script src="{{ url_for('static', filename='js/modal.js') }}"></script>
<script>
  const EDIT_URL_TEMPLATE = "{{ url_for('participantes.editar', id=0).replace('/0','/__ID__') }}";
  const DELETE_URL_TEMPLATE = "{{ url_for('participantes.eliminar', id=0).replace('/0','/__ID__') }}";
  const CREATE_URL = "{{ url_for('participantes.crear') }}";

  generateTable([
    "ID",
    "Nombre Completo",
    "CI",
    "Matrícula",
    "Estado",
    "Tutor",
    "Acciones",
  ]);
</script>
{% endblock %}
